ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚„ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼ã§æ¤œç´¢


109
ãƒ¡ãƒ‹ãƒ¥ãƒ¼
 æŠ•ç¨¿

ã‚ãªãŸã ã‘ã«è¡¨ç¤ºã•ã‚Œã¦ã„ã¾ã™
è¦‹å‡ºã—ç”»åƒã‚’è¨­å®šã—ã¦ã¿ã¾ã›ã‚“ã‹?
è¦‹å‡ºã—ç”»åƒãŒã‚ã‚‹ã¨ã€ã‚‚ã£ã¨ä½œå“ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒä¼ã‚ã‚Šã¾ã™ï¼
ã‹ã‚“ãŸã‚“ã«ã‚ªãƒªã‚¸ãƒŠãƒ«ç”»åƒã‚’ä½œã£ãŸã‚Šã€ä»–ã®ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼ãŒæä¾›ã—ãŸç”»åƒã‹ã‚‰é¸ã‚“ã ã‚Šã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚
ãœã²æ´»ç”¨ã—ã¦ã¿ã¾ã—ã‚‡ã†ï¼


æ–°äººã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢å‘ã‘ï¼šJenkins Jobç¨®é¡å®Œå…¨ã‚¬ã‚¤ãƒ‰ + ã‚·ã‚¹ãƒ†ãƒ æ™‚é–“å–å¾—å®Ÿè·µ

YUKIKO@BIï¼†AIã‚’æ¥µã‚ãŸã„ï¼ˆè»¢è·æ´»å‹•ä¸­ã‚¹ã‚«ã‚¦ãƒˆæ­“è¿ï¼‰
YUKIKO@BIï¼†AIã‚’æ¥µã‚ãŸã„ï¼ˆè»¢è·æ´»å‹•ä¸­ã‚¹ã‚«ã‚¦ãƒˆæ­“è¿ï¼‰
2025å¹´10æœˆ24æ—¥ 08:09



ç›®æ¬¡
ğŸ“‹ ç›®æ¬¡
Jenkins Jobã¨ã¯
å…¸å‹çš„ãªJobã®æµã‚Œ
ğŸ’¡ è£œè¶³ï¼šArtifactã¨ã¯ï¼Ÿ
Jenkins Jobã®ç¨®é¡
1. Freestyle Projectï¼ˆãƒ•ãƒªãƒ¼ã‚¹ã‚¿ã‚¤ãƒ«ï¼‰
ğŸ“ ç‰¹å¾´
âœ… ãƒ¡ãƒªãƒƒãƒˆ
âŒ ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ
ğŸ¯ ã“ã‚“ãªæ™‚ã«ä½¿ã†
ğŸ“Š å®Ÿä¾‹
ğŸ’¡ Freestyle Projectã®æ§‹æˆè¦ç´ 
2. Pipelineï¼ˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ï¼‰
ğŸ“ ç‰¹å¾´
âœ… ãƒ¡ãƒªãƒƒãƒˆ
âŒ ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ
ğŸ¯ ã“ã‚“ãªæ™‚ã«ä½¿ã†
ğŸ“Š Pipelineã®è¦–è¦šåŒ–
ğŸ’¡ Pipelineã®2ã¤ã®æ›¸ãæ–¹
3. Multibranch Pipelineï¼ˆãƒãƒ«ãƒãƒ–ãƒ©ãƒ³ãƒãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ï¼‰
ğŸ“ ç‰¹å¾´
âœ… ãƒ¡ãƒªãƒƒãƒˆ
âŒ ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ
ğŸ¯ ã“ã‚“ãªæ™‚ã«ä½¿ã†
ğŸ“Š ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥ã®ä¾‹
å®Ÿè·µï¼šã‚·ã‚¹ãƒ†ãƒ æ™‚é–“å–å¾—ã§3ã¤å…¨éƒ¨ä½œã‚‹
ğŸ”¨ ãƒ‘ã‚¿ãƒ¼ãƒ³1: Freestyle Projectã§ã‚·ã‚¹ãƒ†ãƒ æ™‚é–“å–å¾—
ã‚¹ãƒ†ãƒƒãƒ—1: æ–°è¦Jobä½œæˆ
ã‚¹ãƒ†ãƒƒãƒ—2: Generalè¨­å®š
ã‚¹ãƒ†ãƒƒãƒ—3: ãƒ“ãƒ«ãƒ‰ãƒˆãƒªã‚¬ãƒ¼ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
ã‚¹ãƒ†ãƒƒãƒ—4: ãƒ“ãƒ«ãƒ‰æ‰‹é †
ã‚¹ãƒ†ãƒƒãƒ—5: ãƒ“ãƒ«ãƒ‰å¾Œã®å‡¦ç†
ã‚¹ãƒ†ãƒƒãƒ—6: ä¿å­˜ï¼†å®Ÿè¡Œ
ğŸ”¨ ãƒ‘ã‚¿ãƒ¼ãƒ³2: Pipelineã§ã‚·ã‚¹ãƒ†ãƒ æ™‚é–“å–å¾—
æ–¹æ³•A: Classic UIï¼ˆåˆå¿ƒè€…å‘ã‘ï¼‰
æ–¹æ³•B: SCMã‹ã‚‰å–å¾—ï¼ˆæ¨å¥¨ãƒ»æœ¬ç•ªå‘ã‘ï¼‰
ğŸ”¨ ãƒ‘ã‚¿ãƒ¼ãƒ³3: Multibranch Pipelineã§ã‚·ã‚¹ãƒ†ãƒ æ™‚é–“å–å¾—
ã‚¹ãƒ†ãƒƒãƒ—1: ãƒªãƒã‚¸ãƒˆãƒªæº–å‚™
ã‚¹ãƒ†ãƒƒãƒ—2: ãƒ–ãƒ©ãƒ³ãƒä½œæˆ
ã‚¹ãƒ†ãƒƒãƒ—3: Jenkinsè¨­å®š
ã‚¹ãƒ†ãƒƒãƒ—4: Branch Sourcesè¨­å®š
ã‚¹ãƒ†ãƒƒãƒ—5: Build Configuration
ã‚¹ãƒ†ãƒƒãƒ—6: Scanè¨­å®š
ã‚¹ãƒ†ãƒƒãƒ—7: å®Ÿè¡Œç¢ºèª
ğŸ“Š 3ã¤ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å®Ÿè¡Œçµæœæ¯”è¼ƒ
Freestyle Project
Pipeline
Multibranch Pipeline
ä½œæˆæ—¥: 2025å¹´10æœˆ24æ—¥
å¯¾è±¡è€…: æ–°äººã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢
é›£æ˜“åº¦: åˆç´šã€œä¸­ç´š

ğŸ“‹ ç›®æ¬¡
Jenkins Jobã¨ã¯

Freestyle Projectï¼ˆãƒ•ãƒªãƒ¼ã‚¹ã‚¿ã‚¤ãƒ«ï¼‰

Pipelineï¼ˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ï¼‰

Multibranch Pipelineï¼ˆãƒãƒ«ãƒãƒ–ãƒ©ãƒ³ãƒãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ï¼‰

3ã¤ã®æ¯”è¼ƒè¡¨

å®Ÿè·µï¼šã‚·ã‚¹ãƒ†ãƒ æ™‚é–“å–å¾—ã§3ã¤å…¨éƒ¨ä½œã‚‹

Jenkins Jobã¨ã¯
Jenkins Jobã¨ã¯ã€JenkinsãŒè‡ªå‹•çš„ã«å®Ÿè¡Œã™ã‚‹ä¸€é€£ã®ã‚¿ã‚¹ã‚¯ã®ã“ã¨ã§ã™ã€‚

å…¸å‹çš„ãªJobã®æµã‚Œ
1. Gitãƒªãƒã‚¸ãƒˆãƒªã‹ã‚‰æœ€æ–°ã‚³ãƒ¼ãƒ‰ã‚’å–å¾—
   â†“
2. ã‚³ãƒ¼ãƒ‰ã‚’ãƒ“ãƒ«ãƒ‰ãƒ»ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«
   â†“
3. ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œï¼ˆãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã€çµ±åˆãƒ†ã‚¹ãƒˆãªã©ï¼‰
   â†“
4. æˆæœç‰©ï¼ˆArtifactï¼‰ã‚’ä½œæˆ
   â†“
5. çµæœã‚’é€šçŸ¥ï¼ˆSlackã€ãƒ¡ãƒ¼ãƒ«ãªã©ï¼‰

copy
ğŸ’¡ è£œè¶³ï¼šArtifactã¨ã¯ï¼Ÿ
Artifactï¼ˆã‚¢ãƒ¼ãƒ†ã‚£ãƒ•ã‚¡ã‚¯ãƒˆï¼‰ = ãƒ“ãƒ«ãƒ‰ã§ä½œæˆã•ã‚ŒãŸã€å®Ÿéš›ã«ãƒ‡ãƒ—ãƒ­ã‚¤ã™ã‚‹ã€Œãƒ¢ãƒã€

ä¾‹ï¼š

.jarãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆJavaã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰

.warãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆWebã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰

Dockerã‚¤ãƒ¡ãƒ¼ã‚¸

.zipãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆåœ§ç¸®ã•ã‚ŒãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰

Helmãƒãƒ£ãƒ¼ãƒˆï¼ˆKubernetesç”¨ï¼‰

Jenkins Jobã®ç¨®é¡
Jenkinsã«ã¯ä¸»ã«3ã¤ã®Jobã‚¿ã‚¤ãƒ—ãŒã‚ã‚Šã¾ã™ï¼š

ã‚¿ã‚¤ãƒ— ç”¨é€” é›£æ˜“åº¦
Freestyle Project ã‚·ãƒ³ãƒ—ãƒ«ãª1å›é™ã‚Šã®ã‚¿ã‚¹ã‚¯ â­ åˆå¿ƒè€…å‘ã‘
Pipeline è¤‡é›‘ãªCI/CDãƒ•ãƒ­ãƒ¼ â­â­ ä¸­ç´šè€…å‘ã‘
Multibranch Pipeline è¤‡æ•°ãƒ–ãƒ©ãƒ³ãƒã®è‡ªå‹•ç®¡ç† â­â­â­ ä¸Šç´šè€…å‘ã‘

1. Freestyle Projectï¼ˆãƒ•ãƒªãƒ¼ã‚¹ã‚¿ã‚¤ãƒ«ï¼‰
ğŸ“ ç‰¹å¾´
æœ€ã‚‚ã‚·ãƒ³ãƒ—ãƒ«ã§æŸ”è»ŸãªJobã‚¿ã‚¤ãƒ—

GUIã§è¨­å®šã§ãã‚‹ï¼ˆã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãå¿…è¦ãŒãªã„ï¼‰

1ã¤ã®ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã™ã‚‹ã®ã«æœ€é©

âœ… ãƒ¡ãƒªãƒƒãƒˆ
åˆå¿ƒè€…ã§ã‚‚ç°¡å˜ã«è¨­å®šã§ãã‚‹

GUIã§å…¨ã¦å®Œçµ

ã™ãã«å§‹ã‚ã‚‰ã‚Œã‚‹

ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®æ©Ÿèƒ½ã‚’ç°¡å˜ã«åˆ©ç”¨ã§ãã‚‹

âŒ ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ
è¤‡é›‘ãªãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã«ã¯ä¸å‘ã

è¤‡æ•°ã®ã‚¹ãƒ†ãƒƒãƒ—ã‚’å¯è¦–åŒ–ã§ããªã„

è¨­å®šã‚’ã‚³ãƒ¼ãƒ‰ã§ç®¡ç†ã§ããªã„ï¼ˆãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ãŒå›°é›£ï¼‰

æ‰‹å‹•æ‰¿èªã‚¹ãƒ†ãƒƒãƒ—ã‚’ä½œã‚Œãªã„

ä¸¦åˆ—å®Ÿè¡ŒãŒã§ããªã„

ğŸ¯ ã“ã‚“ãªæ™‚ã«ä½¿ã†
å˜ç´”ãªãƒ“ãƒ«ãƒ‰ã¨ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ãŸã„

ã™ãã«è©¦ã—ãŸã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒã‚ã‚‹

å­¦ç¿’ç›®çš„ã§åŸºæœ¬ã‚’ç†è§£ã—ãŸã„

1å›é™ã‚Šã®ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè¡Œã—ãŸã„

ğŸ“Š å®Ÿä¾‹
ã‚·ãƒŠãƒªã‚ªï¼š Gitã‹ã‚‰ã‚³ãƒ¼ãƒ‰ã‚’å–å¾—ã—ã¦ã€ãƒ“ãƒ«ãƒ‰ã—ã¦ã€ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã™ã‚‹

ã‚¹ãƒ†ãƒƒãƒ—1: Git checkout
ã‚¹ãƒ†ãƒƒãƒ—2: mvn clean install ï¼ˆãƒ“ãƒ«ãƒ‰ï¼‰
ã‚¹ãƒ†ãƒƒãƒ—3: mvn test ï¼ˆãƒ†ã‚¹ãƒˆå®Ÿè¡Œï¼‰
ã‚¹ãƒ†ãƒƒãƒ—4: ãƒ¡ãƒ¼ãƒ«ã§çµæœã‚’é€šçŸ¥

copy
ğŸ’¡ Freestyle Projectã®æ§‹æˆè¦ç´ 
1. Generalï¼ˆä¸€èˆ¬è¨­å®šï¼‰

ãƒ“ãƒ«ãƒ‰å±¥æ­´ã®ç®¡ç†

âœ“ å¤ã„ãƒ“ãƒ«ãƒ‰ã®ç ´æ£„
  ä¿å­˜ã™ã‚‹ãƒ“ãƒ«ãƒ‰ã®æœ€å¤§æ•°: 10
  ä¿å­˜ã™ã‚‹æˆæœç‰©ã®æœ€å¤§æ•°: 5

copy
ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¨­å®š

â–¡ ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ç„¡åŠ¹åŒ–ï¼ˆä¸€æ™‚çš„ã«åœæ­¢ã—ãŸã„å ´åˆï¼‰
â–¡ ä¸¦è¡Œãƒ“ãƒ«ãƒ‰ï¼ˆåŒæ™‚ã«è¤‡æ•°ã®ãƒ“ãƒ«ãƒ‰ã‚’å®Ÿè¡Œï¼‰

copy
2. ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ç®¡ç†

Gitã®è¨­å®šä¾‹ï¼š

Repository URL: https://github.com/username/project.git
Credentials: github-token
Branch: */main

copy
3. ãƒ“ãƒ«ãƒ‰ãƒˆãƒªã‚¬ãƒ¼

ã„ã¤ãƒ“ãƒ«ãƒ‰ã‚’é–‹å§‹ã™ã‚‹ã‹ï¼Ÿ

ãƒˆãƒªã‚¬ãƒ¼ èª¬æ˜ ä½¿ç”¨ä¾‹ GitHubã«ãƒ—ãƒƒã‚·ãƒ¥ã•ã‚ŒãŸã‚‰ãƒ“ãƒ«ãƒ‰ ã‚³ãƒŸãƒƒãƒˆæ¯ã«è‡ªå‹•ãƒ“ãƒ«ãƒ‰ CIï¼ˆç¶™ç¶šçš„ã‚¤ãƒ³ãƒ†ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰ å®šæœŸçš„ã«ãƒ“ãƒ«ãƒ‰ Cronå½¢å¼ã§å®šæœŸå®Ÿè¡Œ æ¯æ—¥æ·±å¤œã«ãƒ“ãƒ«ãƒ‰ SCMã‚’ãƒãƒ¼ãƒªãƒ³ã‚° å®šæœŸçš„ã«Gitã‚’ãƒã‚§ãƒƒã‚¯ WebhookãŒä½¿ãˆãªã„å ´åˆ ä»–ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå¾Œã«ãƒ“ãƒ«ãƒ‰ Jobã‚’ChainåŒ– Job A â†’ Job B

Cronå½¢å¼ã®ä¾‹ï¼š

# æ¯æ—¥åˆå‰2æ™‚
0 2 * * *

# æ¯æ™‚0åˆ†
0 * * * *

# å¹³æ—¥ã®åˆå‰9æ™‚
0 9 * * 1-5

copy
4. ãƒ“ãƒ«ãƒ‰ç’°å¢ƒ

ã‚ˆãä½¿ã†è¨­å®šï¼š

âœ“ ãƒ“ãƒ«ãƒ‰é–‹å§‹å‰ã«ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã‚’å‰Šé™¤
âœ“ ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ã‚’ã‚³ãƒ³ã‚½ãƒ¼ãƒ«å‡ºåŠ›ã«è¿½åŠ 
âœ“ ãƒ“ãƒ«ãƒ‰ã®ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆï¼ˆä¾‹ï¼š30åˆ†ï¼‰

copy
5. ãƒ“ãƒ«ãƒ‰

å®Ÿéš›ã®ãƒ“ãƒ«ãƒ‰ã‚³ãƒãƒ³ãƒ‰ï¼š

Shellã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ä¾‹ï¼š

#!/bin/bash
echo "ãƒ“ãƒ«ãƒ‰é–‹å§‹"
mvn clean install
mvn test
echo "ãƒ“ãƒ«ãƒ‰å®Œäº†"

copy
6. ãƒ“ãƒ«ãƒ‰å¾Œã®å‡¦ç†

ãƒ“ãƒ«ãƒ‰æˆåŠŸå¾Œã«ã§ãã‚‹ã“ã¨ï¼š

âœ“ ãƒ¡ãƒ¼ãƒ«é€šçŸ¥
âœ“ Slacké€šçŸ¥
âœ“ ãƒ†ã‚¹ãƒˆãƒ¬ãƒãƒ¼ãƒˆã®å…¬é–‹
âœ“ æˆæœç‰©ã®ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–
âœ“ æ¬¡ã®Jobã‚’ãƒˆãƒªã‚¬ãƒ¼
âœ“ è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤

copy
2. Pipelineï¼ˆãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ï¼‰
ğŸ“ ç‰¹å¾´
ã‚³ãƒ¼ãƒ‰ã§CI/CDãƒ•ãƒ­ãƒ¼ã‚’å®šç¾©ï¼ˆJenkinsfileï¼‰

è¤‡æ•°ã®ã‚¹ãƒ†ãƒ¼ã‚¸ã‚’å¯è¦–åŒ–ã§ãã‚‹

ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã§ãã‚‹ï¼ˆInfrastructure as Codeï¼‰

âœ… ãƒ¡ãƒªãƒƒãƒˆ
è¦–è¦šåŒ–ã§ãã‚‹ï¼šã©ã®ã‚¹ãƒ†ãƒƒãƒ—ã§å¤±æ•—ã—ãŸã‹ä¸€ç›®ç­ç„¶

ã‚³ãƒ¼ãƒ‰ã§ç®¡ç†ï¼šGitã§ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†ã§ãã‚‹

æ‰‹å‹•æ‰¿èªï¼šæœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤å‰ã«æ‰¿èªã‚¹ãƒ†ãƒƒãƒ—ã‚’å…¥ã‚Œã‚‰ã‚Œã‚‹

ä¸¦åˆ—å®Ÿè¡Œï¼šè¤‡æ•°ã®ãƒ†ã‚¹ãƒˆã‚’åŒæ™‚ã«å®Ÿè¡Œã§ãã‚‹

å†åˆ©ç”¨å¯èƒ½ï¼šåŒã˜ã‚³ãƒ¼ãƒ‰ã‚’è¤‡æ•°ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä½¿ãˆã‚‹

è€ä¹…æ€§ï¼šJenkinså†èµ·å‹•å¾Œã‚‚å‡¦ç†ã‚’ç¶™ç¶šã§ãã‚‹

âŒ ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ
Groovyè¨€èªã®çŸ¥è­˜ãŒå¿…è¦ï¼ˆå­¦ç¿’ã‚³ã‚¹ãƒˆãŒã‚ã‚‹ï¼‰

åˆæœŸè¨­å®šãŒFreestyleã‚ˆã‚Šè¤‡é›‘

ãƒ‡ãƒãƒƒã‚°ãŒé›£ã—ã„å ´åˆãŒã‚ã‚‹

ğŸ¯ ã“ã‚“ãªæ™‚ã«ä½¿ã†
æœ¬æ ¼çš„ãªCI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã‚’æ§‹ç¯‰ã—ãŸã„

è¤‡æ•°ã®ã‚¹ãƒ†ãƒ¼ã‚¸ï¼ˆãƒ“ãƒ«ãƒ‰â†’ãƒ†ã‚¹ãƒˆâ†’ãƒ‡ãƒ—ãƒ­ã‚¤ï¼‰ãŒã‚ã‚‹

æ‰‹å‹•æ‰¿èªãŒå¿…è¦ï¼ˆæœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤å‰ãªã©ï¼‰

ä¸¦åˆ—å®Ÿè¡Œã§ãƒ“ãƒ«ãƒ‰æ™‚é–“ã‚’çŸ­ç¸®ã—ãŸã„

Infrastructure as Codeã‚’å®Ÿè·µã—ãŸã„

ğŸ“Š Pipelineã®è¦–è¦šåŒ–
[ãƒ“ãƒ«ãƒ‰] â†’ [ãƒ†ã‚¹ãƒˆ] â†’ [ã‚¹ãƒ†ãƒ¼ã‚¸ãƒ³ã‚°] â†’ [æ‰¿èª] â†’ [æœ¬ç•ªãƒ‡ãƒ—ãƒ­ã‚¤]
   â†“          â†“           â†“              â†“          â†“
 æˆåŠŸ       æˆåŠŸ        æˆåŠŸ          å¾…æ©Ÿä¸­      æˆåŠŸ

copy
ğŸ’¡ Pipelineã®2ã¤ã®æ›¸ãæ–¹
Declarative Pipelineï¼ˆå®£è¨€å‹ãƒ»æ¨å¥¨ï¼‰

ç‰¹å¾´ï¼š

æ§‹é€ åŒ–ã•ã‚Œã¦ã„ã¦èª­ã¿ã‚„ã™ã„

åˆå¿ƒè€…å‘ã‘

ã‚¨ãƒ©ãƒ¼ãƒã‚§ãƒƒã‚¯ãŒè‡ªå‹•

åŸºæœ¬æ§‹é€ ï¼š

pipeline {
    agent any
    
    stages {
        stage('ãƒ“ãƒ«ãƒ‰') {
            steps {
                echo 'ãƒ“ãƒ«ãƒ‰ä¸­...'
                sh 'mvn clean install'
            }
        }
        
        stage('ãƒ†ã‚¹ãƒˆ') {
            steps {
                echo 'ãƒ†ã‚¹ãƒˆå®Ÿè¡Œä¸­...'
                sh 'mvn test'
            }
        }
        
        stage('ãƒ‡ãƒ—ãƒ­ã‚¤') {
            steps {
                echo 'ãƒ‡ãƒ—ãƒ­ã‚¤ä¸­...'
                sh './deploy.sh'
            }
        }
    }
    
    post {
        success {
            echo 'ãƒ“ãƒ«ãƒ‰æˆåŠŸï¼'
        }
        failure {
            echo 'ãƒ“ãƒ«ãƒ‰å¤±æ•—...'
        }
    }
}

copy
Scripted Pipelineï¼ˆã‚¹ã‚¯ãƒªãƒ—ãƒˆå‹ï¼‰

ç‰¹å¾´ï¼š

ã‚ˆã‚ŠæŸ”è»Ÿã§é«˜åº¦ãªåˆ¶å¾¡ãŒå¯èƒ½

ä¸Šç´šè€…å‘ã‘

Groovyã®çŸ¥è­˜ãŒå¿…è¦

åŸºæœ¬æ§‹é€ ï¼š

node {
    stage('ãƒ“ãƒ«ãƒ‰') {
        echo 'ãƒ“ãƒ«ãƒ‰ä¸­...'
        sh 'mvn clean install'
    }
    
    stage('ãƒ†ã‚¹ãƒˆ') {
        echo 'ãƒ†ã‚¹ãƒˆå®Ÿè¡Œä¸­...'
        sh 'mvn test'
    }
    
    stage('ãƒ‡ãƒ—ãƒ­ã‚¤') {
        echo 'ãƒ‡ãƒ—ãƒ­ã‚¤ä¸­...'
        sh './deploy.sh'
    }
}

copy
3. Multibranch Pipelineï¼ˆãƒãƒ«ãƒãƒ–ãƒ©ãƒ³ãƒãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ï¼‰
ğŸ“ ç‰¹å¾´
è¤‡æ•°ã®ãƒ–ãƒ©ãƒ³ãƒã‚’è‡ªå‹•çš„ã«ç®¡ç†

å„ãƒ–ãƒ©ãƒ³ãƒã«å¯¾ã—ã¦è‡ªå‹•çš„ã«Pipelineã‚’ä½œæˆ

ãƒ–ãƒ©ãƒ³ãƒæ¯ã«ç•°ãªã‚‹Jenkinsfileã‚’ä½¿ãˆã‚‹

âœ… ãƒ¡ãƒªãƒƒãƒˆ
è‡ªå‹•ãƒ–ãƒ©ãƒ³ãƒæ¤œå‡ºï¼šæ–°ã—ã„ãƒ–ãƒ©ãƒ³ãƒã‚’è‡ªå‹•èªè­˜

ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆå¯¾å¿œï¼šPRã”ã¨ã«ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ†ã‚¹ãƒˆ

ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥ã«å¯¾å¿œï¼šGit Flowã€GitHub Flowãªã©

è‡ªå‹•ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ï¼šå‰Šé™¤ã•ã‚ŒãŸãƒ–ãƒ©ãƒ³ãƒã®Jobã‚‚è‡ªå‹•å‰Šé™¤

âŒ ãƒ‡ãƒ¡ãƒªãƒƒãƒˆ
è¨­å®šãŒæœ€ã‚‚è¤‡é›‘

ãƒªã‚½ãƒ¼ã‚¹æ¶ˆè²»ãŒå¤§ãã„ï¼ˆãƒ–ãƒ©ãƒ³ãƒæ•°ã«æ¯”ä¾‹ï¼‰

åˆå¿ƒè€…ã«ã¯ç†è§£ãŒé›£ã—ã„

ğŸ¯ ã“ã‚“ãªæ™‚ã«ä½¿ã†
è¤‡æ•°ã®é–‹ç™ºãƒ–ãƒ©ãƒ³ãƒãŒã‚ã‚‹

ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆæ¯ã«ãƒ†ã‚¹ãƒˆã—ãŸã„

Git Flowæˆ¦ç•¥ã‚’æ¡ç”¨ã—ã¦ã„ã‚‹

ãƒãƒ¼ãƒ é–‹ç™ºã§å„ãƒ¡ãƒ³ãƒãƒ¼ã®ãƒ–ãƒ©ãƒ³ãƒã‚’ãƒ†ã‚¹ãƒˆã—ãŸã„

ğŸ“Š ãƒ–ãƒ©ãƒ³ãƒæˆ¦ç•¥ã®ä¾‹
main â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        â†“                    â†‘
develop â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
         â†“            â†‘
feature/login â”€â”€â”€â”€â”€â”€â”€â”€
         â†“        â†‘
feature/payment â”€â”€

copy
ãã‚Œãã‚Œã®ãƒ–ãƒ©ãƒ³ãƒã§è‡ªå‹•çš„ã«ãƒ“ãƒ«ãƒ‰ãƒ»ãƒ†ã‚¹ãƒˆãŒå®Ÿè¡Œã•ã‚Œã‚‹ï¼

å®Ÿè·µï¼šã‚·ã‚¹ãƒ†ãƒ æ™‚é–“å–å¾—ã§3ã¤å…¨éƒ¨ä½œã‚‹
ã‚·ã‚¹ãƒ†ãƒ æ™‚é–“ã‚’å–å¾—ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ã€3ã¤ã®Jobã‚¿ã‚¤ãƒ—å…¨ã¦ã‚’å®Ÿéš›ã«ä½œã£ã¦ã¿ã¾ã—ã‚‡ã†ï¼

ğŸ”¨ ãƒ‘ã‚¿ãƒ¼ãƒ³1: Freestyle Projectã§ã‚·ã‚¹ãƒ†ãƒ æ™‚é–“å–å¾—
ã‚¹ãƒ†ãƒƒãƒ—1: æ–°è¦Jobä½œæˆ
Jenkinsãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã‚’é–‹ã

ã€Œæ–°è¦ã‚¸ãƒ§ãƒ–ä½œæˆã€ ã‚’ã‚¯ãƒªãƒƒã‚¯

ã‚¸ãƒ§ãƒ–å: SystemTime-Freestyle

ã€Œãƒ•ãƒªãƒ¼ã‚¹ã‚¿ã‚¤ãƒ«ãƒ»ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ“ãƒ«ãƒ‰ã€ ã‚’é¸æŠ

ã€ŒOKã€

ã‚¹ãƒ†ãƒƒãƒ—2: Generalè¨­å®š
âœ“ å¤ã„ãƒ“ãƒ«ãƒ‰ã®ç ´æ£„
  ä¿å­˜ã™ã‚‹ãƒ“ãƒ«ãƒ‰ã®æœ€å¤§æ•°: 10

copy
ã‚¹ãƒ†ãƒƒãƒ—3: ãƒ“ãƒ«ãƒ‰ãƒˆãƒªã‚¬ãƒ¼ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
âœ“ å®šæœŸçš„ã«å®Ÿè¡Œ
  ã‚¹ã‚±ã‚¸ãƒ¥ãƒ¼ãƒ«: 0 * * * *  ï¼ˆæ¯æ™‚0åˆ†ã«å®Ÿè¡Œï¼‰

copy
ã‚¹ãƒ†ãƒƒãƒ—4: ãƒ“ãƒ«ãƒ‰æ‰‹é †
ã€Œãƒ“ãƒ«ãƒ‰æ‰‹é †ã®è¿½åŠ ã€ â†’ ã€Œã‚·ã‚§ãƒ«ã®å®Ÿè¡Œã€

ã‚³ãƒ”ãƒšç”¨ã‚³ãƒ¼ãƒ‰ï¼š

#!/bin/bash

echo "=========================================="
echo "ã‚·ã‚¹ãƒ†ãƒ æ™‚é–“å–å¾—ã‚¹ã‚¯ãƒªãƒ—ãƒˆ (Freestyle)"
echo "=========================================="
echo ""

echo "ğŸ“‹ Jenkinsæƒ…å ±"
echo "  ãƒ“ãƒ«ãƒ‰ç•ªå·: ${BUILD_NUMBER}"
echo "  ã‚¸ãƒ§ãƒ–å: ${JOB_NAME}"
echo "  ãƒ“ãƒ«ãƒ‰ID: ${BUILD_ID}"
echo "  ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹: ${WORKSPACE}"
echo ""

echo "â° ã‚·ã‚¹ãƒ†ãƒ æ™‚é–“æƒ…å ±"
echo "----------------------------------------"
echo "  ç¾åœ¨æ—¥æ™‚: $(date '+%Yå¹´%mæœˆ%dæ—¥ %Hæ™‚%Måˆ†%Sç§’')"
echo "  ISOå½¢å¼: $(date '+%Y-%m-%d %H:%M:%S')"
echo "  ãƒ•ã‚¡ã‚¤ãƒ«åç”¨: $(date '+%Y%m%d_%H%M%S')"
echo "  UNIXã‚¿ã‚¤ãƒ : $(date +%s)"
echo "  æ›œæ—¥: $(date '+%A')"
echo "  ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³: $(date +%Z)"
echo ""

echo "ğŸ’» ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±"
echo "----------------------------------------"
echo "  ãƒ›ã‚¹ãƒˆå: $(hostname)"
echo "  ãƒ¦ãƒ¼ã‚¶ãƒ¼: $(whoami)"
echo "  OS: $(uname -s)"
echo ""

# ãƒ­ã‚°ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ
mkdir -p logs

# ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
TIMESTAMP=$(date '+%Y%m%d_%H%M%S')
LOG_FILE="logs/freestyle_${TIMESTAMP}.log"

cat > "$LOG_FILE" <<EOF
========================================
Freestyle Project - ã‚·ã‚¹ãƒ†ãƒ æ™‚é–“ãƒ­ã‚°
========================================
å®Ÿè¡Œæ—¥æ™‚: $(date '+%Y-%m-%d %H:%M:%S')
ãƒ“ãƒ«ãƒ‰ç•ªå·: ${BUILD_NUMBER}
ã‚¸ãƒ§ãƒ–å: ${JOB_NAME}
ãƒ›ã‚¹ãƒˆ: $(hostname)
ãƒ¦ãƒ¼ã‚¶ãƒ¼: $(whoami)
----------------------------------------
UNIXã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—: $(date +%s)
ã‚¿ã‚¤ãƒ ã‚¾ãƒ¼ãƒ³: $(date +%Z)
========================================
EOF

echo "âœ… ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆå®Œäº†"
echo "  å ´æ‰€: $LOG_FILE"
echo ""
cat "$LOG_FILE"
echo ""
echo "ğŸ‰ Freestyle Project å®Ÿè¡Œå®Œäº†ï¼"

copy
ã‚¹ãƒ†ãƒƒãƒ—5: ãƒ“ãƒ«ãƒ‰å¾Œã®å‡¦ç†
ã€Œãƒ“ãƒ«ãƒ‰å¾Œã®å‡¦ç†ã®è¿½åŠ ã€ â†’ ã€Œæˆæœç‰©ã®ä¿ç®¡ã€

ä¿ç®¡ã™ã‚‹æˆæœç‰©: logs/*.log

copy
ã‚¹ãƒ†ãƒƒãƒ—6: ä¿å­˜ï¼†å®Ÿè¡Œ
ã€Œä¿å­˜ã€

ã€Œãƒ“ãƒ«ãƒ‰å®Ÿè¡Œã€

ã€Œã‚³ãƒ³ã‚½ãƒ¼ãƒ«å‡ºåŠ›ã€ ã§ç¢ºèª

ã€Œãƒ“ãƒ«ãƒ‰æˆæœç‰©ã€ ã‹ã‚‰ãƒ­ã‚°ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰

ğŸ”¨ ãƒ‘ã‚¿ãƒ¼ãƒ³2: Pipelineã§ã‚·ã‚¹ãƒ†ãƒ æ™‚é–“å–å¾—
æ–¹æ³•A: Classic UIï¼ˆåˆå¿ƒè€…å‘ã‘ï¼‰
ã‚¹ãƒ†ãƒƒãƒ—1: æ–°è¦Jobä½œæˆ

ã€Œæ–°è¦ã‚¸ãƒ§ãƒ–ä½œæˆã€

ã‚¸ãƒ§ãƒ–å: SystemTime-Pipeline

ã€ŒPipelineã€ ã‚’é¸æŠ

ã€ŒOKã€

ã‚¹ãƒ†ãƒƒãƒ—2: Pipelineè¨­å®š

ã€ŒPipelineã€ ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã¾ã§ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«

Definition: Pipeline script

ã‚³ãƒ”ãƒšç”¨ã‚³ãƒ¼ãƒ‰ï¼š

pipeline {
    agent any
    
    stages {
        stage('ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±å–å¾—') {
            steps {
                script {
                    echo '=========================================='
                    echo 'ã‚·ã‚¹ãƒ†ãƒ æ™‚é–“å–å¾—ã‚¹ã‚¯ãƒªãƒ—ãƒˆ (Pipeline)'
                    echo '=========================================='
                    echo ''
                    
                    echo 'ğŸ“‹ Jenkinsæƒ…å ±'
                    echo "  ãƒ“ãƒ«ãƒ‰ç•ªå·: ${env.BUILD_NUMBER}"
                    echo "  ã‚¸ãƒ§ãƒ–å: ${env.JOB_NAME}"
                    echo "  ãƒ“ãƒ«ãƒ‰URL: ${env.BUILD_URL}"
                    echo ''
                }
            }
        }
        
        stage('æ™‚é–“æƒ…å ±è¡¨ç¤º') {
            steps {
                sh '''
                    echo "â° ã‚·ã‚¹ãƒ†ãƒ æ™‚é–“æƒ…å ±"
                    echo "----------------------------------------"
                    echo "  ç¾åœ¨æ—¥æ™‚: $(date '+%Yå¹´%mæœˆ%dæ—¥ %Hæ™‚%Måˆ†%Sç§’')"
                    echo "  ISOå½¢å¼: $(date '+%Y-%m-%d %H:%M:%S')"
                    echo "  UNIXã‚¿ã‚¤ãƒ : $(date +%s)"
                    echo "  æ›œæ—¥: $(date '+%A')"
                    echo ""
                '''
            }
        }
        
        stage('ãƒ­ã‚°ä½œæˆ') {
            steps {
                sh '''
                    mkdir -p logs
                    TIMESTAMP=$(date '+%Y%m%d_%H%M%S')
                    LOG_FILE="logs/pipeline_${TIMESTAMP}.log"
                    
                    cat > "$LOG_FILE" <<EOF
========================================
Pipeline - ã‚·ã‚¹ãƒ†ãƒ æ™‚é–“ãƒ­ã‚°
========================================
å®Ÿè¡Œæ—¥æ™‚: $(date '+%Y-%m-%d %H:%M:%S')
ãƒ“ãƒ«ãƒ‰ç•ªå·: ${BUILD_NUMBER}
ã‚¸ãƒ§ãƒ–å: ${JOB_NAME}
ãƒ›ã‚¹ãƒˆ: $(hostname)
----------------------------------------
UNIXã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—: $(date +%s)
========================================
EOF
                    
                    echo "âœ… ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ: $LOG_FILE"
                    cat "$LOG_FILE"
                '''
            }
        }
    }
    
    post {
        success {
            echo 'ğŸ‰ Pipelineå®Ÿè¡ŒæˆåŠŸï¼'
            archiveArtifacts artifacts: 'logs/*.log', allowEmptyArchive: true
        }
        failure {
            echo 'âŒ Pipelineå®Ÿè¡Œå¤±æ•—'
        }
        always {
            echo '=========================================='
            echo 'Pipelineå®Ÿè¡Œå®Œäº†'
            echo '=========================================='
        }
    }
}

copy
ã‚¹ãƒ†ãƒƒãƒ—3: ä¿å­˜ï¼†å®Ÿè¡Œ

ã€Œä¿å­˜ã€

ã€Œãƒ“ãƒ«ãƒ‰å®Ÿè¡Œã€

Stage View ã§ã‚¹ãƒ†ãƒ¼ã‚¸ã”ã¨ã®é€²æ—ã‚’ç¢ºèª

æ–¹æ³•B: SCMã‹ã‚‰å–å¾—ï¼ˆæ¨å¥¨ãƒ»æœ¬ç•ªå‘ã‘ï¼‰
ã‚¹ãƒ†ãƒƒãƒ—1: Gitãƒªãƒã‚¸ãƒˆãƒªæº–å‚™

ãƒªãƒã‚¸ãƒˆãƒªã®ãƒ«ãƒ¼ãƒˆã« Jenkinsfile ã‚’ä½œæˆ

Jenkinsfileï¼ˆã‚³ãƒ”ãƒšç”¨ï¼‰ï¼š

pipeline {
    agent any
    
    stages {
        stage('Checkout') {
            steps {
                echo 'ãƒªãƒã‚¸ãƒˆãƒªã‹ã‚‰ã‚³ãƒ¼ãƒ‰ã‚’å–å¾—...'
                checkout scm
            }
        }
        
        stage('ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±å–å¾—') {
            steps {
                script {
                    echo '=========================================='
                    echo 'ã‚·ã‚¹ãƒ†ãƒ æ™‚é–“å–å¾— (Pipeline from SCM)'
                    echo '=========================================='
                    echo ''
                    
                    echo 'ğŸ“‹ Jenkinsæƒ…å ±'
                    echo "  ãƒ“ãƒ«ãƒ‰ç•ªå·: ${env.BUILD_NUMBER}"
                    echo "  ã‚¸ãƒ§ãƒ–å: ${env.JOB_NAME}"
                    echo "  ãƒ–ãƒ©ãƒ³ãƒ: ${env.GIT_BRANCH}"
                    echo ''
                }
            }
        }
        
        stage('æ™‚é–“æƒ…å ±è¡¨ç¤º') {
            steps {
                sh '''
                    echo "â° ã‚·ã‚¹ãƒ†ãƒ æ™‚é–“æƒ…å ±"
                    echo "  ç¾åœ¨æ—¥æ™‚: $(date '+%Yå¹´%mæœˆ%dæ—¥ %Hæ™‚%Måˆ†%Sç§’')"
                    echo "  UNIXã‚¿ã‚¤ãƒ : $(date +%s)"
                    echo ""
                '''
            }
        }
        
        stage('ãƒ­ã‚°ä½œæˆ') {
            steps {
                sh '''
                    mkdir -p logs
                    TIMESTAMP=$(date '+%Y%m%d_%H%M%S')
                    LOG_FILE="logs/pipeline_scm_${TIMESTAMP}.log"
                    
                    cat > "$LOG_FILE" <<EOF
========================================
Pipeline (SCM) - ã‚·ã‚¹ãƒ†ãƒ æ™‚é–“ãƒ­ã‚°
========================================
å®Ÿè¡Œæ—¥æ™‚: $(date)
ãƒ“ãƒ«ãƒ‰ç•ªå·: ${BUILD_NUMBER}
========================================
EOF
                    
                    echo "âœ… ãƒ­ã‚°ä½œæˆ: $LOG_FILE"
                '''
            }
        }
    }
    
    post {
        success {
            archiveArtifacts artifacts: 'logs/*.log', allowEmptyArchive: true
            echo 'ğŸ‰ æˆåŠŸï¼'
        }
    }
}

copy
ã‚¹ãƒ†ãƒƒãƒ—2: Gitã«ã‚³ãƒŸãƒƒãƒˆ

git add Jenkinsfile
git commit -m "Add: Pipeline Jenkinsfile"
git push origin main

copy
ã‚¹ãƒ†ãƒƒãƒ—3: Jenkinsè¨­å®š

ã€Œæ–°è¦ã‚¸ãƒ§ãƒ–ä½œæˆã€

ã‚¸ãƒ§ãƒ–å: SystemTime-Pipeline-SCM

ã€ŒPipelineã€ é¸æŠ

ã€ŒOKã€

Pipeline ã‚»ã‚¯ã‚·ãƒ§ãƒ³è¨­å®šï¼š

Definition: Pipeline script from SCM

SCM: Git

Repository URL: https://github.com/yourusername/repo.git

Credentials: èªè¨¼æƒ…å ±ã‚’é¸æŠ

Branch: */main

Script Path: Jenkinsfile

ã€Œä¿å­˜ã€ â†’ ã€Œãƒ“ãƒ«ãƒ‰å®Ÿè¡Œã€

ğŸ”¨ ãƒ‘ã‚¿ãƒ¼ãƒ³3: Multibranch Pipelineã§ã‚·ã‚¹ãƒ†ãƒ æ™‚é–“å–å¾—
ã‚¹ãƒ†ãƒƒãƒ—1: ãƒªãƒã‚¸ãƒˆãƒªæº–å‚™
è¤‡æ•°ãƒ–ãƒ©ãƒ³ãƒã‚’ä½œæˆã—ã€ãã‚Œãã‚Œã« Jenkinsfile ã‚’é…ç½®

mainãƒ–ãƒ©ãƒ³ãƒç”¨ Jenkinsfile

pipeline {
    agent any
    
    stages {
        stage('Info') {
            steps {
                echo "=========================================="
                echo "Multibranch Pipeline - ã‚·ã‚¹ãƒ†ãƒ æ™‚é–“å–å¾—"
                echo "=========================================="
                echo "ãƒ–ãƒ©ãƒ³ãƒ: ${env.BRANCH_NAME}"
                echo "ãƒ“ãƒ«ãƒ‰ç•ªå·: ${env.BUILD_NUMBER}"
                echo ""
            }
        }
        
        stage('æ™‚é–“å–å¾—') {
            steps {
                sh '''
                    echo "â° ç¾åœ¨æ™‚åˆ»: $(date '+%Y-%m-%d %H:%M:%S')"
                    echo "ğŸ“¦ ãƒ–ãƒ©ãƒ³ãƒ: ${BRANCH_NAME}"
                '''
            }
        }
        
        stage('æœ¬ç•ªç’°å¢ƒå‡¦ç†') {
            when {
                branch 'main'
            }
            steps {
                echo 'ğŸš€ æœ¬ç•ªç’°å¢ƒç”¨ã®å‡¦ç†ã‚’å®Ÿè¡Œ'
                sh '''
                    mkdir -p logs
                    echo "æœ¬ç•ªç’°å¢ƒãƒ­ã‚°: $(date)" > logs/production_$(date +%Y%m%d_%H%M%S).log
                '''
            }
        }
        
        stage('é–‹ç™ºç’°å¢ƒå‡¦ç†') {
            when {
                branch 'develop'
            }
            steps {
                echo 'ğŸ”§ é–‹ç™ºç’°å¢ƒç”¨ã®å‡¦ç†ã‚’å®Ÿè¡Œ'
                sh '''
                    mkdir -p logs
                    echo "é–‹ç™ºç’°å¢ƒãƒ­ã‚°: $(date)" > logs/development_$(date +%Y%m%d_%H%M%S).log
                '''
            }
        }
        
        stage('æ©Ÿèƒ½ãƒ–ãƒ©ãƒ³ãƒå‡¦ç†') {
            when {
                branch pattern: "feature/.*", comparator: "REGEXP"
            }
            steps {
                echo 'ğŸŒ¿ æ©Ÿèƒ½ãƒ–ãƒ©ãƒ³ãƒã®å‡¦ç†ã‚’å®Ÿè¡Œ'
                sh '''
                    mkdir -p logs
                    echo "æ©Ÿèƒ½ãƒ–ãƒ©ãƒ³ãƒãƒ­ã‚°: $(date)" > logs/feature_$(date +%Y%m%d_%H%M%S).log
                '''
            }
        }
    }
    
    post {
        success {
            archiveArtifacts artifacts: 'logs/*.log', allowEmptyArchive: true
            echo "âœ… ${env.BRANCH_NAME} ãƒ–ãƒ©ãƒ³ãƒ: ãƒ“ãƒ«ãƒ‰æˆåŠŸ"
        }
    }
}

copy
ã‚¹ãƒ†ãƒƒãƒ—2: ãƒ–ãƒ©ãƒ³ãƒä½œæˆ
# mainãƒ–ãƒ©ãƒ³ãƒ
git add Jenkinsfile
git commit -m "Add: Multibranch Jenkinsfile"
git push origin main

# developãƒ–ãƒ©ãƒ³ãƒä½œæˆ
git checkout -b develop
git push origin develop

# featureãƒ–ãƒ©ãƒ³ãƒä½œæˆ
git checkout -b feature/time-display
git push origin feature/time-display

copy
ã‚¹ãƒ†ãƒƒãƒ—3: Jenkinsè¨­å®š
ã€Œæ–°è¦ã‚¸ãƒ§ãƒ–ä½œæˆã€

ã‚¸ãƒ§ãƒ–å: SystemTime-Multibranch

ã€ŒMultibranch Pipelineã€ é¸æŠ

ã€ŒOKã€

ã‚¹ãƒ†ãƒƒãƒ—4: Branch Sourcesè¨­å®š
ã€ŒBranch Sourcesã€ â†’ ã€ŒAdd sourceã€ â†’ ã€ŒGitã€

è¨­å®šï¼š

Project Repository: https://github.com/yourusername/repo.git

Credentials: èªè¨¼æƒ…å ±ã‚’é¸æŠ

ã‚¹ãƒ†ãƒƒãƒ—5: Build Configuration
ã€ŒBuild Configurationã€

Mode: by Jenkinsfile

Script Path: Jenkinsfile

ã‚¹ãƒ†ãƒƒãƒ—6: Scanè¨­å®š
ã€ŒScan Multibranch Pipeline Triggersã€

âœ“ Periodically if not otherwise run

Interval: 1 minuteï¼ˆãƒ†ã‚¹ãƒˆç”¨ï¼‰

ã€Œä¿å­˜ã€

ã‚¹ãƒ†ãƒƒãƒ—7: å®Ÿè¡Œç¢ºèª
è‡ªå‹•çš„ã«ãƒ–ãƒ©ãƒ³ãƒã‚¹ã‚­ãƒ£ãƒ³ãŒé–‹å§‹

æ¤œå‡ºã•ã‚ŒãŸãƒ–ãƒ©ãƒ³ãƒï¼š

main

develop

feature/time-display

ãã‚Œãã‚Œã®ãƒ–ãƒ©ãƒ³ãƒã§è‡ªå‹•çš„ã«ãƒ“ãƒ«ãƒ‰ãŒå®Ÿè¡Œã•ã‚Œã‚‹

ğŸ“Š 3ã¤ã®ãƒ‘ã‚¿ãƒ¼ãƒ³ã®å®Ÿè¡Œçµæœæ¯”è¼ƒ
Freestyle Project
Started by user admin
Building in workspace /var/jenkins/workspace/SystemTime-Freestyle
[SystemTime-Freestyle] $ /bin/bash
==========================================
ã‚·ã‚¹ãƒ†ãƒ æ™‚é–“å–å¾—ã‚¹ã‚¯ãƒªãƒ—ãƒˆ (Freestyle)
==========================================
ğŸ“‹ Jenkinsæƒ…å ±
  ãƒ“ãƒ«ãƒ‰ç•ªå·: 5
  ã‚¸ãƒ§ãƒ–å: SystemTime-Freestyle
â° ã‚·ã‚¹ãƒ†ãƒ æ™‚é–“æƒ…å ±
  ç¾åœ¨æ—¥æ™‚: 2025å¹´10æœˆ24æ—¥ 14æ™‚30åˆ†45ç§’
âœ… ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆå®Œäº†
ğŸ‰ Freestyle Project å®Ÿè¡Œå®Œäº†ï¼
Finished: SUCCESS

copy
Pipeline
Started by user admin
[Pipeline] Start of Pipeline
[Pipeline] stage (ã‚·ã‚¹ãƒ†ãƒ æƒ…å ±å–å¾—)
[Pipeline] echo
ğŸ“‹ Jenkinsæƒ…å ±
  ãƒ“ãƒ«ãƒ‰ç•ªå·: 3
[Pipeline] stage (æ™‚é–“æƒ…å ±è¡¨ç¤º)
â° ã‚·ã‚¹ãƒ†ãƒ æ™‚é–“æƒ…å ±
  ç¾åœ¨æ—¥æ™‚: 2025å¹´10æœˆ24æ—¥ 14æ™‚31åˆ†12ç§’
[Pipeline] stage (ãƒ­ã‚°ä½œæˆ)
âœ… ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ
[Pipeline] echo
ğŸ‰ Pipelineå®Ÿè¡ŒæˆåŠŸï¼
[Pipeline] End of Pipeline
Finished: SUCCESS

copy
Multibranch Pipeline
Branch indexing
Checking branches...
  Checking branch main
    'Jenkinsfile' found
  Checking branch develop
    'Jenkinsfile' found
  Checking branch feature/time-display
    'Jenkinsfile' found
Processed 3 branches

copy








YUKIKO@BIï¼†AIã‚’æ¥µã‚ãŸã„ï¼ˆè»¢è·æ´»å‹•ä¸­ã‚¹ã‚«ã‚¦ãƒˆæ­“è¿ï¼‰
YUKIKO@BIï¼†AIã‚’æ¥µã‚ãŸã„ï¼ˆè»¢è·æ´»å‹•ä¸­ã‚¹ã‚«ã‚¦ãƒˆæ­“è¿ï¼‰
ç”ŸæˆAIãƒ‘ã‚¹ãƒãƒ¼ãƒˆè©¦é¨“åˆæ ¼ã«å‘ã‘ã¦å­¦ç¿’ä¸­ï¼
Python3ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢èªå®šè©¦é¨“åˆæ ¼
2025å¹´7æœˆï¼šBIã®å­¦ç¿’ä¸­ã§ã™ï¼

ã€æŠ€è¡“ã€‘
Python/Django/ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°/æ¥­å‹™è‡ªå‹•åŒ–







noteãƒ—ãƒ¬ãƒŸã‚¢ãƒ 
note pro
ã‚ˆãã‚ã‚‹è³ªå•ãƒ»noteã®ä½¿ã„æ–¹
ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼
ã‚¯ãƒªã‚¨ã‚¤ã‚¿ãƒ¼ã¸ã®ãŠå•ã„åˆã‚ã›
ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
ã”åˆ©ç”¨è¦ç´„
é€šå¸¸ãƒã‚¤ãƒ³ãƒˆåˆ©ç”¨ç‰¹ç´„
åŠ ç›Ÿåº—è¦ç´„
è³‡â¾¦æ±ºæ¸ˆæ³•ã«åŸºã¥ãè¡¨â½°
ç‰¹å•†æ³•è¡¨è¨˜
æŠ•è³‡æƒ…å ±ã®å…è²¬äº‹é …
æ–°äººã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢å‘ã‘ï¼šJenkins Jobç¨®é¡å®Œå…¨ã‚¬ã‚¤ãƒ‰ + ã‚·ã‚¹ãƒ†ãƒ æ™‚é–“å–å¾—å®Ÿè·µï½œYUKIKO@BIï¼†AIã‚’æ¥µã‚ãŸã„ï¼ˆè»¢è·æ´»å‹•ä¸­ã‚¹ã‚«ã‚¦ãƒˆæ­“è¿ï¼‰
